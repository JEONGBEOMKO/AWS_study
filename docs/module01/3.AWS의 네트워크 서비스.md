## 리전과 가용 영역

**AWS의 물리적 구성은 리전과 가용 영역이다.**

### 리전
+ AWS가 서비스를 제공하는 거점
+ AWS는 여러 개의 리전을 사용한 시스템 구성을 **멀티 리전 구성**이라고 함
  > 첫 우리가 리전 설정을 도쿄리전으로 한 것을 생각하면 됨
  
### 가용 영역
+ (AZ라고도 함) 데이터 센터의 역할
+ 사용자가 여러 리전에서의 AZ를 선택하여 사용
+ 여러 개의 AZ를 사용한 시스템 구성을 **멀티 AZ 구성**이라고도 한다. 


### Web+DB 시스템 멀티 AZ 기본 구성
<img src = "https://user-images.githubusercontent.com/55094745/103720430-ac92d400-500e-11eb-8b60-a9128960d52e.png" width= "30%"></img>
+ 2대의 웹/어플리케이션 서버를 다른 AZ에 배치하고, ELB로 접근을 분산한다. 
+ DB 서버는 RDS의 멀티 AZ 옵션을 활성화 시켜 각각의 DB(마스터/슬레이브)가 생성되고 동기화된다. 


## Amazon Virtual Private Cloud
> **vpc**: 프라이빗 네트워크를 구성할 수 있게 해주는 서비스

### Direct Connect
+ 데이터 센터 또는 오피스의 네트워크와 AWS를 전용선으로 접속할 수 있게 해주는 서비스
+ 안전되고 빠른 통신 환경이 필요한 경우 사용(AWS, Onpremise 혼용시)

### EC2-Classic과 EC2-VPC
+ **EC2-Classic**(옛날 버전) - 인스턴스(EC2)를 가동하면 글로벌 ip주소와 dns호스트 이름이 자동적으로 부여되는 구조
+ **EC2-VPC**(현재 버전) - VPC환경에서 인스턴스를 기동하는 것(보안상)
> 지금은 EC2-Classic은 사용하지 않는다. 


## Amazon Route 53
+ DNS 서비스
+ AWS는 DNS 호스트 이름을 사용하는 것이 기본
+ EC2 인스턴스는 기동될 때마다 IP 주소가 자동적으로 할당되는데, 그 ip주소를 route53에 등록하면 해당 DNS이름으로 인스턴스에 들어갈 수 있다. 
> 도메인 라지스트라, 장애 허용 아키텍처(DNS 페일오버)를 제공한다.
>> 장애 허용 아키텍처 -> 피해를 최소한으로 줄이기 위한 구조


## AWS 네트워크와 VPC 네트워크
> 네트워크는 **AWS 네트워크, VPC 네트워크**로 이루어져 있다.
**AWS 네트워크** - 인터넷에서 접근할 수 있는 네트워크
**VPC 네트워크** - VPC 환경 내부에서만 사용할 수 있는 닫힌 네트워크
> 각각 이용할 수 있는 서비스가 분류되어있음
> 즉, 서비스 조합에 따라서 VPC 네트워크로 사용하는 서비스도 AWS 네트워크 접속 설정이 필요하기도 한다. 

